function debounce(i,a,o){var r;return function(){var e=this,t=arguments,n=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||i.apply(e,t)},a),n&&i.apply(e,t)}}jQuery(document).ready(function(t){function n(){t(".search-toggle").blur(),t(".search-bar-container input").focus()}function e(){t(".search-overlay").fadeIn(500,function(){t(".nav-container, .search-overlay").addClass("search-open"),t(".search-bar-container").addClass("is-open"),n()})}t(".translation-bar ul").flickity({rightToLeft:wmfrtl.enable,cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,freeScroll:!0}),t(".arrow-wrap").on("click",function(){t(".translation-bar ul").flickity("next")}),t(".back-arrow-wrap").on("click",function(){t(".translation-bar ul").flickity("prev")}),t(".mobile-nav-toggle").on("click",function(){t(".nav-links").toggleClass("open"),t(".header-inner").toggleClass("nav-open"),t(".search-open").length&&t(".logo-nav-container").removeClass("search-open")}),t(".search-toggle").on("click",function(){t(".nav-open").length&&(t(".nav-links").removeClass("open"),t(".header-inner").removeClass("nav-open")),e()}),t(window).on("resize",function(){window.matchMedia("(min-width: 1050px)").matches&&t(".nav-open").length&&(t(".nav-links").removeClass("open"),t(".header-inner").removeClass("nav-open"))}),t(".search-overlay").on("click",function(e){t(this).hasClass("search-open")&&(t(".search-bar-container").removeClass("is-open"),t(".search-overlay").fadeOut(400,function(){t(".nav-container, .search-overlay").removeClass("search-open"),n()}))})}),jQuery(document).ready(function(a){function e(e,t,n,i){a(e+" "+n).hover(function(){a(this).closest(t).addClass(i)},function(){a(this).closest(t).removeClass(i)})}e(".news-categories","li","a","border-turquoise"),e(".related-news",".bg-img",".card-heading","headline-hover"),e(".translation-bar","li","a","hover-underline"),e(".cta-news",".card",".h2 a","darken-img"),e(".card-list-container",".card",".h3 a","darken-img")}),svg4everybody(),jQuery(document).ready(function(a){var e=a(".related-news h3"),n=[];e.each(function(e,t){n.push(t.clientHeight)});var t=n.reduce(function(e,t){return Math.max(e,t)},0);e.height(t),a("article blockquote").wrap("<div class='blockquote-container'></div>"),a(".people.slider-on-mobile").flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,watchCSS:!0}),setTimeout(function(){a(".people.slider-on-mobile").flickity("resize")},500),a(".news-categories .slider-on-mobile").flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,watchCSS:!0}),a("a.preview").hover(function(){this.t=this.title;var e=(this.title="")!=this.t?this.t:"",t=document.createElement("br"),n=document.createElement("p"),i=document.createElement("img");n.setAttribute("id","preview"),i.setAttribute("src",encodeURI(a(this).attr("data-src"))),i.setAttribute("alt","Image Preview"),n.appendChild(i),""!==e&&(n.appendChild(t),n.appendChild(document.createTextNode(e))),a(this).append(n),a("#preview").addClass("preview-visible")},function(){this.title=this.t,a("#preview").remove()}),a("#dismiss-notification").click(function(){a(".notification-bar").fadeOut("slow",function(){})}),a("a.niceScroll").on("click",function(e){e.preventDefault(),a("html, body").animate({scrollTop:a(a.attr(this,"href")).offset().top},2e3)})}),function(o,e,t){function i(i){var a=o(window).scrollTop();o.each(i,function(e){var n,t=i[e];a>t.getPosition()-200&&(n=i,o.each(n,function(e){var t=n[e];t.$link.removeClass("-active")}),t.markActive())})}function a(e,t){this.$el=e,this.$link=t}o(function(){var e,t,n;t=(e=o(".toc")).find(".toc-link"),n=[],e.Stickyfill(),t.each(function(){var e,t;e=o(this),t=o(e.attr("href")),n.push(new a(t,e))}),o(window).scroll(function(){debounce(i(n),500)}),i(n)}),a.prototype.getPosition=function(){return this.$el.offset().top},a.prototype.markActive=function(){this.$link.addClass("-active")}}(jQuery),function(a){"use strict";a.fn.fitVids=function(e){var n={customSelector:null,ignore:null};return e&&a.extend(n,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&e.push(n.customSelector);var i=".fitvidsignore";n.ignore&&(i=i+", "+n.ignore);var t=a(this).find(e.join(","));(t=(t=t.not("object object")).not(i)).each(function(){var e=a(this);if(!(0<e.parents(i).length||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("name")){var n="fitvid"+a.fn.fitVids._count;e.attr("name",n),a.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),e.removeAttr("height").removeAttr("width")}})})},a.fn.fitVids._count=0,a(".video-container").fitVids()}(window.jQuery),function(u){"use strict";u("#searchFilter").on("submit",function(e){e.preventDefault();var t,n,i,a,o,r,c=u("#sortSelect :selected"),s=u(c).val(),l=u(c).data("type"),h={s:u("#keyword").val(),order:s,orderby:l};h.post_type=u("#searchFilter input:checkbox:checked").map(function(){return u(this).val()}).get()||[],n=(t=h)||{},i=t||{},a=window.location,o=a.protocol+"//"+a.host+"/",r=decodeURIComponent(u.param(i)),window.history.pushState("","",o+"?"+r),n.action="ajax_search",u("#search-results").css({opacity:.5}),u.ajax({type:"POST",url:wmfoundation.ajax_url,data:n,success:function(e){var t=e.data||{};t.posts_html&&u("#search-results").empty().append(t.posts_html),t.pagination&&u("#pagination").empty().append(t.pagination),""===t.pagination&&u("#pagination").empty(),u("#search-results").css({opacity:1})},error:function(){u("#search-results").empty(),u("#pagination").empty(),u("#search-results").css({opacity:1})}})})}(jQuery);
//# sourceMappingURL=maps/scripts.min.js.map
